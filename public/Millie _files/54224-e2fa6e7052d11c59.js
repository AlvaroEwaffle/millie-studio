!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="351a1775-31f7-48f1-a2f4-31520c5299f2",e._sentryDebugIdIdentifier="sentry-dbid-351a1775-31f7-48f1-a2f4-31520c5299f2")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54224],{333399:function(e,n,t){"use strict";t.d(n,{r:function(){return c}});var i=t(785893),r=t(587495),o=t(386010),s=t(80128),a=t(351169),l=t(234308),d=t(32032),u=t.n(d);let c=e=>{let{className:n,providerName:t}=e;return(0,i.jsxs)("div",{className:(0,o.default)(u().self,n),children:[(0,i.jsx)(s.Cde,{color:"neutralFaded",unsafeClassName:u().privacyIcon}),(0,i.jsx)(r.x,{font:"body-s-regular",color:"neutralFaded",align:"center",children:(0,l.gl)('Footer on the "Choose option" page, there is a Fresha logo in the end',"%{providerName} securely accepts online bookings with",{providerName:t})}),(0,i.jsx)(a.K,{size:"m",isSpotlightVisible:!1,color:"neutralFaded"})]})}},54224:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return E}});var i=t(785893),r=t(667294),o=t(973314),s=t(692553),a=t(730602),l=t(926739),d=t(423541);t(400645),t(512434),t(603096);var u=t(25869),c=t(380270),m=t(380395),f=t(770546),g=t(364740),p=t(269131),h=t(794067),k=t(587495),x=t(80128),y=t(333399),j=t(960704);t(369219);var b=t(234308),v=t(654796),T=t(744204),w=t(116831),S=t(146006),_=t.n(S),N=t(135424);let A=e=>{let{title:n,description:t,linkTo:r,qaType:o,variant:s="medium",target:a}=e;return(0,i.jsx)(N.H,{linkTo:r,variant:s,qaType:o,target:a,isExternal:"_blank"===a,children:(0,i.jsx)(N.H.Content,{children:(0,i.jsx)(N.H.Row,{leftSection:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.x,{font:"body-m-medium",children:n}),(0,i.jsx)(k.x,{font:"body-s-regular",children:t})]})})})})},C=e=>{let{unsafeClassName:n,unsafeStyle:t}=e;return(0,i.jsx)(N.H,{variant:"low",unsafeClassName:n,unsafeStyle:t,children:(0,i.jsx)(N.H.Content,{children:(0,i.jsx)(N.H.Row,{leftSection:(0,i.jsxs)(h.k,{direction:"vertical",gap:"200",children:[(0,i.jsx)(k.x.Skeleton,{font:"body-m-medium",width:"120px"}),(0,i.jsx)(k.x.Skeleton,{font:"body-s-regular",width:"240px"})]}),leftSectionAlignment:"flex-start"})})})},I=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h.k,{gap:"300",direction:"vertical",children:[(0,i.jsx)(k.x.Skeleton,{font:"header-m-semibold",width:"80px",unsafeClassName:_()["stack-animation"],unsafeStyle:{"--animation-order":2}}),(0,i.jsx)(C,{unsafeClassName:_()["stack-animation"],unsafeStyle:{"--animation-order":3}})]}),(0,i.jsxs)(h.k,{gap:"300",direction:"vertical",children:[(0,i.jsx)(k.x.Skeleton,{font:"header-m-semibold",width:"80px",unsafeClassName:_()["stack-animation"],unsafeStyle:{"--animation-order":4}}),(0,i.jsxs)(h.k,{gap:"150",direction:"vertical",children:[(0,i.jsx)(C,{unsafeClassName:_()["stack-animation"],unsafeStyle:{"--animation-order":5}}),(0,i.jsx)(C,{unsafeClassName:_()["stack-animation"],unsafeStyle:{"--animation-order":6}}),(0,i.jsx)(C,{unsafeClassName:_()["stack-animation"],unsafeStyle:{"--animation-order":7}})]})]})]}),B=(0,v.B)(`
  query FetchAllOffer($slug: String!) {
    location(slug: $slug) {
      id
      slug
      name
      description
      allowSeoIndex
      owner {
        id
        slug
        name
      }
      address {
        simpleFormatted
        shortFormatted
        streetAddress
        apartmentSuite
        cityName
      }
      ogImage: coverImage(transformer: OG_IMAGE) {
        url
      }
      coverImage(transformer: THUMB) {
        url
      }
      serviceCount
      offers {
        hasMembershipTypes
        hasVouchers
      }
      hasGiftCards
      productStoreSlug
      hasGroupAppointments
    }
  }
`),F=e=>{let{locationSlug:n,isLoading:t,location:s}=e,a=(0,o.lr)(),l=(0,r.useMemo)(()=>Object.fromEntries(a.entries()),[a]),{navigateBack:d,redirectTo:v}=(0,c.H)(),T=!!l.venue,S=!!l.multi,N=!T&&!S,{serviceCount:C,offers:B,hasGiftCards:F,productStoreSlug:H,owner:D,hasGroupAppointments:E}=s||{},L=(0,r.useMemo)(()=>(0,u.jHS)(n,{allOffer:!0,...l.menu&&{menu:l.menu},...l.marketingToken&&{marketingToken:l.marketingToken},...l.cnToken&&{cnToken:l.cnToken}}),[n,l.cnToken,l.marketingToken,l.menu]),q=B?.hasMembershipTypes,O=B?.hasVouchers,W=!!H,G=q||F||O||W,P=(0,r.useRef)(!1);(0,r.useEffect)(()=>{P.current||t||G||E||(P.current=!0,v(L))},[t,E,G,L,v]);let J=(0,b.gl)("Title of the list of possible actions (book / buy)","Choose an option");return(0,i.jsx)(j.l,{children:(0,i.jsxs)(m.e,{width:"narrow",unsafeClassName:_().self,children:[(0,i.jsx)(m.e.Header,{unsafeStyle:void 0,content:(0,i.jsx)(m.e.Header.TextTitle,{label:J}),onBack:S&&D?.slug?()=>(d({pathname:(0,u.brC)(D.slug)}),Promise.resolve()):void 0,suffix:T?(0,i.jsx)(f.z,{id:"close-button",onAction:()=>(d({pathname:(0,u.WuJ)(n)}),Promise.resolve()),variant:"tertiary",size:"l",icon:x.Two,isLabelHidden:!0,isCompact:!0,children:(0,b.__)`Close`}):void 0,backButtonIconSlot:x.Y4O}),(0,i.jsx)(m.e.Container,{hasSidePadding:!0,children:(0,i.jsxs)(g.A,{type:"singleWithTitle",direction:"vertical",rowGap:"m",children:[(0,i.jsx)(g.A.Title,{children:(0,i.jsx)(p.V,{unsafeClassName:_().title,title:J,titleAs:"h1"})}),(0,i.jsx)(g.A.Content,{unsafeClassName:_()["fade-animation"],children:(0,i.jsxs)(h.k,{gap:"300",direction:"vertical",children:[N?(0,i.jsx)(w.e,{isLoading:t,withRating:!1,location:s,skeletonClassName:_()["stack-animation"],skeletonStyle:{"--animation-order":1},qaType:"location-info"}):null,t?(0,i.jsx)(I,{}):(0,i.jsxs)(i.Fragment,{children:[(C??0)>0?(0,i.jsxs)("div",{children:[(0,i.jsx)(k.x,{font:"header-m-semibold",mb:"300",children:(0,b.gl)("Subtitle for list of options possible to book","Book")}),(0,i.jsxs)(h.k,{gap:"150",direction:"vertical",children:[(0,i.jsx)(A,{title:(0,b.gl)("Link to the booking flow","Book an appointment"),description:(0,b.gl)("Description below the booking flow link","Schedule services for yourself"),linkTo:L,qaType:"book-appointment",variant:"medium"}),E?(0,i.jsx)(A,{title:(0,b.gl)("Link to the group booking flow","Group appointment"),description:(0,b.gl)("Description below the group booking flow link","For yourself and others"),linkTo:(0,u.jHS)(n,{allOffer:!0,groupBooking:!0,...l.menu&&{menu:l.menu},...l.marketingToken&&{marketingToken:l.marketingToken},...l.cnToken&&{cnToken:l.cnToken}}),qaType:"book-group-appointment",variant:"medium"}):null]})]}):null,G?(0,i.jsxs)("div",{children:[(0,i.jsx)(k.x,{font:"header-m-semibold",mb:"300",children:(0,b.gl)("Subtitle for list of options possible to buy","Buy")}),(0,i.jsxs)(h.k,{gap:"150",direction:"vertical",children:[q?(0,i.jsx)(A,{title:(0,b.gl)("Link to the buying membership flow","Membership"),description:(0,b.gl)("Description below the buying membership flow link","Bundle your services in to a membership"),linkTo:(0,u.iAm)(n,{...l.menu&&{menu:l.menu},...l.marketingToken&&{marketingToken:l.marketingToken}}),qaType:"membership"}):null,O?(0,i.jsx)(A,{title:(0,b.gl)("Link to the buying voucher flow","Voucher"),description:(0,b.gl)("Description below the buying a voucher flow link","Treat yourself or a friend to future visits"),linkTo:(0,u.WCI)(n,{...l.menu&&{menu:l.menu},...l.marketingToken&&{marketingToken:l.marketingToken}}),qaType:"voucher"}):null,F?(0,i.jsx)(A,{title:(0,b.gl)("Link to the buying gift card flow","Gift Cards"),description:(0,b.gl)("Description below the buying a gift card flow link","Treat yourself or a friend to future visits"),linkTo:(0,u.pWD)(n,{...l.menu&&{menu:l.menu},...l.marketingToken&&{marketingToken:l.marketingToken}}),qaType:"gift-cards"}):null,W?(0,i.jsx)(A,{title:(0,b.gl)("Link to the online store","Products"),description:(0,b.gl)("Description below the online store link","Buy products online"),linkTo:(0,u.nox)(H,{utm_medium:"link",utm_campaign:"link+builder"}),target:"_blank",qaType:"products"}):null]})]}):null]}),N?(0,i.jsx)(y.r,{providerName:D?.name||""}):null]})})]})})]})})},H=(0,d.bH)(async(e,n)=>{let{locale:t}=n,{locationSlug:i}=e.query;if("string"!=typeof i)throw Error("locationSlug not found");return{locationSlug:i,allOfferData:null}}),D=e=>{let{allOfferData:n,locationSlug:t}=e,d=(0,o.lr)(),{data:u,isLoading:c}=(0,a.aT)(B,{slug:t},{revalidateIfStale:!1,fallbackData:n?{result:n,variables:{slug:t}}:void 0});(0,s.XE)({venueID:u?.location?.id});let m=d.get("rwg_token")??void 0,f=d.get("gei")??void 0;return(0,r.useEffect)(()=>{(0,l.Y)({rwgTokenToSave:m,geiTokenToSave:f,providerId:u?.location?.owner?.id||""})},[u?.location?.owner?.id,m,f]),(0,i.jsxs)(i.Fragment,{children:[u?.location?(0,i.jsx)(T.Z,{location:u.location}):null,(0,i.jsx)(F,{locationSlug:t,isLoading:c,location:u?.location})]})};D.getInitialProps=H;var E=D},145613:function(e,n,t){"use strict";t.d(n,{jA:function(){return l},bv:function(){return s},Jj:function(){return u.Jj},JV:function(){return d.JV},Tk:function(){return d.Tk},WZ:function(){return d.WZ},Ek:function(){return u.Ek}});var i=t(234308),r=t(603096),o=t(25869);function s(e,n,t){return(0,o.jQs)(e,(0,r.Le)({linkTo:(0,o.jHS)(n),locale:t}))}let a=e=>{let{name:n,address:t}=e,i=[n,[t?.streetAddress,t?.apartmentSuite].filter(Boolean).join(" "),t?.cityName].filter(Boolean).join(" - ");return`${i} | Fresha`};function l(e){let{name:n,address:t}=e;return(0,i.__)("Make an appointment at %{location}",{location:a({name:n,address:t})})}var d=t(25687),u=t(499930)},25687:function(e,n,t){"use strict";t.d(n,{JV:function(){return a},Tk:function(){return d},WZ:function(){return l},rC:function(){return s}});var i=t(786546),r=t(234308);t(25869);var o=t(499930);let s=(0,i.BX)(`
  fragment LocationProfileMetaFragment on Location {
    name
    address {
      apartmentSuite
      cityName
      servicingAreas
      streetAddress
    }
    primaryBusinessType {
      name
    }
  }
`);function a(e){let n=e.address?.servicingAreas?[...e.address.servicingAreas]:[],t=n.pop();return n.length>1?(0,r.gl)("Hair services London | Book with SalonName at King's Street. Nearby District 1, District 2 and District 3.","%{businessType} %{city} | Book with %{name} at %{address}. Nearby %{listOfDistrictsNames} and %{lastDistrictName}.",{name:e.name,address:(0,o.H)(e.address?.streetAddress,e.address?.apartmentSuite),city:e.address?.cityName,businessType:e.primaryBusinessType?.name,listOfDistrictsNames:n.join(", "),lastDistrictName:t}):(0,r.__)("%{businessType} %{city} | Book with %{name} at %{address}.",{name:e.name,address:(0,o.H)(e.address?.streetAddress,e.address?.apartmentSuite),city:e.address?.cityName,businessType:e.primaryBusinessType?.name})}function l(e){let n=[e.name,(0,o.H)(e.address?.streetAddress,e.address?.apartmentSuite),e.address?.cityName].filter(Boolean).join(" - ");return`${n} | Fresha`}function d(e){let n=e.address?.servicingAreas?[...e.address.servicingAreas]:[];return[e.name,e.address?.cityName,(0,o.H)(e.address?.streetAddress,e.address?.apartmentSuite),e.primaryBusinessType?.name,...n].filter(Boolean).join(", ")}},499930:function(e,n,t){"use strict";t.d(n,{Ek:function(){return s},H:function(){return r},Jj:function(){return o},mN:function(){return a}});var i=t(25869);function r(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter(Boolean).join(" ")}function o(e,n){return(0,i.jQs)(e,n)}function s(e){return e?"index, follow":"noindex, noarchive, follow"}function a(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.map((e,n)=>`${e} ${n+1}x`).join(", ")}},744204:function(e,n,t){"use strict";var i=t(785893),r=t(186667),o=t(559670),s=t(234308),a=t(145613),l=t(25869);n.Z=e=>{let{location:n}=e;if(!n)return null;let{host:t}=new URL(r.APP_URL),d=n.description.split(".")[0],u=(0,a.jA)({name:n.name,address:n.address||{}}),c=n.ogImage?.url||"",m=(0,a.Jj)(t,(0,l.WuJ)(n.slug)),f=(0,a.bv)(t,n.slug,(0,s.Kd)().language),g=(0,a.Ek)(n.allowSeoIndex);return(0,i.jsx)(o.ZP,{canonical:m,description:d,robots:g,openGraph:{title:u,image:c,url:f},title:u})}},116831:function(e,n,t){"use strict";t.d(n,{e:function(){return k}});var i=t(785893),r=t(794067),o=t(304616),s=t(587495),a=t(784748),l=t(875916),d=t(652462),u=t(456624),c=t(795928);t(667294);var m=t(80128),f=t(25869),g=t(77341),p=t.n(g);let h=e=>{let{unsafeClassName:n,unsafeStyle:t,_isAnimated:a=!0}=e;return(0,i.jsxs)(r.k,{gap:"200",direction:"horizontal",unsafeClassName:n,unsafeStyle:t,children:[(0,i.jsx)(o.O,{width:"64px",height:"64px",isAnimated:a}),(0,i.jsxs)(r.k,{gap:"25",direction:"vertical",children:[(0,i.jsx)(s.x.Skeleton,{font:"body-m-semibold",width:"80px"}),(0,i.jsx)(s.x.Skeleton,{font:"body-s-semibold",width:"120px"}),(0,i.jsx)(s.x.Skeleton,{font:"body-s-regular",width:"240px"})]})]})},k=e=>{let{location:n,isLoading:t,withRating:o=!0,displayShortAddress:g=!1,skeletonClassName:k,skeletonStyle:x,qaType:y}=e,j=(0,a.G)("laptop");if(!n||t)return(0,i.jsx)(h,{unsafeClassName:k,unsafeStyle:x});let{name:b,rating:v,reviewsCount:T,address:w,coverImage:S,slug:_}=n;return(0,i.jsxs)("div",{className:p().self,"data-qa":y,children:[(0,i.jsx)(l.f,{isExternal:!0,linkTo:(0,f.WuJ)(_),children:(0,i.jsx)(d.l,{image:(0,i.jsx)(u.E,{alt:`${b} - ${w?.shortFormatted}`,src:S?.url||"",loading:"lazy"}),size:"2xl"})}),(0,i.jsxs)(r.k,{gap:"25",direction:"vertical",unsafeStyle:{minWidth:"0"},children:[(0,i.jsx)(s.x,{font:"body-m-semibold",children:b}),o&&v?(0,i.jsx)(c.g,{halfStarIconSlot:m.$Dh,id:"rating",rating:v,ratingCount:T??void 0,stars:"five",variant:"default",size:"m",qaType:"rating"}):null,w?(0,i.jsx)(s.x,{font:"body-s-regular",color:"neutralFaded",overflow:"ellipsis",noWrap:j,children:g&&w.shortFormatted?w.shortFormatted:w.simpleFormatted}):null]})]})}},77341:function(e){e.exports={self:"LocationInfo_self__AAmxd"}},146006:function(e){e.exports={self:"AllOffer_self___W5us",title:"AllOffer_title__my_IR"}},32032:function(e){e.exports={self:"ProviderFooter_self__gHGoS",privacyIcon:"ProviderFooter_privacyIcon__SG_Y2"}}}]);
//# sourceMappingURL=54224-e2fa6e7052d11c59.js.map